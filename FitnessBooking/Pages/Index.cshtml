@page
@model IndexModel
@{
    ViewData["Title"] = "Fitness Booking";
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"]</title>

    <!-- FullCalendar（まずはCDNでお試し）-->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.js"></script>

    <style>
        #calendar { max-width: 900px; margin: 20px auto; }
    </style>
</head>
<body>
    <h1 class="text-center">Fitness Booking</h1>
    <div id="calendar"></div>

    @section Scripts {
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                var calendarEl = document.getElementById('calendar');
                var calendar = new FullCalendar.Calendar(calendarEl, {
                    initialView: 'timeGridWeek',
                    events: '/api/sessions'   // ★ APIから予定を取得
                });
                calendar.render();
            });
        </script>
    }
</body>
</html>
